function getCanvas(){var e=document.getElementById("mainCanvas");return e}function drawEverything(){var e=getCanvas();var t=e.getContext("2d");drawBackground(t);drawSlingshot(t);if(birdToLaunch!=undefined){drawRubberBand(t,birdToLaunch)}drawAllPigs(t);drawAllBirds(t)}function drawBackground(e){var t=e.canvas;e.fillStyle=background.skyColor;e.fillRect(0,0,t.width,t.height-background.horizon);e.strokeStyle=background.rayColor;e.lineWidth=background.rayWidth;for(var n=0;n<10;n=n+1){var r=Math.PI/18*n;var i=background.rayLength*Math.cos(r);var s=background.rayLength*Math.sin(r);e.beginPath();e.moveTo(0,0);e.lineTo(0+i,0+s);e.stroke()}e.fillStyle=background.sunColor;e.beginPath();e.arc(0,0,background.sunRadius,0,Math.PI*2);e.closePath();e.fill();e.fillStyle=background.groundColor;e.fillRect(0,t.height-background.horizon,t.width,background.horizon);e.font=background.attributionFont;e.fillStyle=background.attributionColor;e.fillText(background.attributionText,2,t.height-2)}function drawRubberBand(e,t){var n=e.canvas;var r=n.height-slingshot.height-slingshot.bottom;e.strokeStyle=rubberBand.color;e.lineWidth=rubberBand.width;e.beginPath();e.moveTo(slingshot.left-slingshot.radius,r-slingshot.radius);e.lineTo(t.x,t.y);e.stroke();drawOneBird(e,t);e.strokeStyle=rubberBand.color;e.lineWidth=rubberBand.width;e.beginPath();e.moveTo(slingshot.left+slingshot.radius,r-slingshot.radius);e.lineTo(t.x,t.y);e.stroke()}function drawSlingshot(e){var t=e.canvas;e.strokeStyle=slingshot.color;e.fillStyle=slingshot.color;e.lineWidth=slingshot.width;var n=t.height-slingshot.height-slingshot.bottom;e.fillRect(slingshot.left-slingshot.width/2,n,slingshot.width,slingshot.height);e.beginPath();e.arc(slingshot.left,n-slingshot.radius,slingshot.radius,0,Math.PI);e.stroke();e.beginPath();e.arc(slingshot.left-slingshot.radius,n-slingshot.radius,slingshot.width,0,Math.PI*2);e.fill();e.beginPath();e.arc(slingshot.left+slingshot.radius,n-slingshot.radius,slingshot.width,0,Math.PI*2);e.fill()}function drawAllPigs(e){for(var t=0;t<pigs.length;t=t+1){var n=pigs[t];drawOnePig(e,n)}}function drawAllBirds(e){for(var t=0;t<birds.length;t=t+1){var n=birds[t];drawOneBird(e,n)}}function drawOneBird(e,t){drawImageCentered(e,t.x,t.y,t.width,t.height,t.name)}function drawOnePig(e,t){drawImageCentered(e,t.x,t.y,t.width,t.height,t.name)}function drawImageCentered(e,t,n,r,i,s){var o=document.getElementById(s);var u=t-r/2;var a=n-i/2;e.drawImage(o,u,a,r,i)}var slingshot={left:150,bottom:50,width:8,radius:30,height:70,color:"#cc9a5b"};var rubberBand={color:"#552813",width:4};var background={horizon:150,skyColor:"#b7dcf7",groundColor:"#55ad3c",rayColor:"#9bcff4",rayWidth:30,rayLength:1e3,sunRadius:100,sunColor:"lightyellow",attributionText:"Images from http://www.freevector.com/angry-birds-characters/, intended for educational purposes only",attributionFont:"8pt Arial",attributionColor:"lightgreen"}